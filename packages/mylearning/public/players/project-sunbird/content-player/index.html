<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <iframe id="preview" src="./preview.html?webview=true"></iframe>
    <script type="text/javascript">
      const metadata = {
        ownershipType: ["createdBy"],
        copyright: "Peepul, MP SCERT",
        previewUrl:
          "https://ntpproductionall.blob.core.windows.net/ntp-content-production/content/ecml/do_31331742597075763211217-latest",
        keywords: [
          "शिक्षक",
          "शिक्षण",
          "शिक्षा",
          "शिक्षा शास्त्र",
          "पीपल",
          "राज्य शिक्षा केंद्र",
          "CM Rise",
          "प्रशिक्षण",
          "सी एम राइज़",
          "स्कूल शिक्षा विभाग",
          "मध्य प्रदेश",
          "Madhya Pradesh",
          "Peepul",
          "MP SCERT",
        ],
        plugins: [
          {
            identifier: "org.ekstep.stage",
            semanticVersion: "1.0",
          },
          {
            identifier: "org.ekstep.image",
            semanticVersion: "1.1",
          },
          {
            identifier: "org.ekstep.navigation",
            semanticVersion: "1.0",
          },
        ],
        subject: ["Training"],
        downloadUrl:
          "https://ntpproductionall.blob.core.windows.net/ntp-content-production/ecar_files/do_31331742597075763211217/hm-aur-hmaaraa-smaaj-kors-se-pricy_1625737467971_do_31331742597075763211217_1.0.ecar",
        channel: "012936530816278528135",
        organisation: ["Madhya Pradesh"],
        language: ["English"],
        variants: {
          spine: {
            ecarUrl:
              "https://ntpproductionall.blob.core.windows.net/ntp-content-production/ecar_files/do_31331742597075763211217/hm-aur-hmaaraa-smaaj-kors-se-pricy_1625737468129_do_31331742597075763211217_1.0_spine.ecar",
            size: 13054,
          },
        },
        mimeType: "application/vnd.ekstep.ecml-archive",
        editorState:
          '{"plugin":{"noOfExtPlugins":12,"extPlugins":[{"plugin":"org.ekstep.contenteditorfunctions","version":"1.2"},{"plugin":"org.ekstep.keyboardshortcuts","version":"1.0"},{"plugin":"org.ekstep.richtext","version":"1.0"},{"plugin":"org.ekstep.iterator","version":"1.0"},{"plugin":"org.ekstep.navigation","version":"1.0"},{"plugin":"org.ekstep.reviewercomments","version":"1.0"},{"plugin":"org.ekstep.questionunit.mtf","version":"1.2"},{"plugin":"org.ekstep.questionunit.mcq","version":"1.3"},{"plugin":"org.ekstep.keyboard","version":"1.1"},{"plugin":"org.ekstep.questionunit.reorder","version":"1.1"},{"plugin":"org.ekstep.questionunit.sequence","version":"1.1"},{"plugin":"org.ekstep.questionunit.ftb","version":"1.1"}]},"stage":{"noOfStages":5,"currentStage":"bab15816-be9c-4bb8-a58b-c725a777eca2"},"sidebar":{"selectedMenu":"settings"}}',
        se_mediums: ["Hindi"],
        appIcon:
          "https://ntpproductionall.blob.core.windows.net/ntp-content-production/content/do_31331742597075763211217/artifact/do_31331743462996377611219_1625663407221_picture2.thumb.png",
        gradeLevel: [
          "Class 3",
          "Class 6",
          "Class 8",
          "Class 1",
          "Class 2",
          "Class 5",
          "Class 4",
          "Class 7",
        ],
        assets: [
          "do_31331787827565363211293",
          "do_31331787882787635211294",
          "do_31331802034902630411662",
          "do_31331788308751974411299",
          "do_31331788130123776011298",
        ],
        primaryCategory: "Explanation Content",
        appId: "prod.diksha.portal",
        artifactUrl:
          "https://ntpproductionall.blob.core.windows.net/ntp-content-production/content/do_31331742597075763211217/artifact/1625737467868_do_31331742597075763211217.zip",
        contentEncoding: "gzip",
        lockKey: "86633f28-87df-4441-ad2d-6c903bd3c0a0",
        contentType: "Resource",
        se_gradeLevels: [
          "Class 3",
          "Class 6",
          "Class 8",
          "Class 1",
          "Class 2",
          "Class 5",
          "Class 4",
          "Class 7",
        ],
        lastUpdatedBy: "a39b4df8-f600-444e-8a83-1f2e4a5075f8",
        identifier: "do_31331742597075763211217",
        audience: ["Teacher"],
        visibility: "Default",
        consumerId: "89490534-126f-4f0b-82ac-3ff3e49f3468",
        author: "Peepul, MP SCERT",
        discussionForum: {
          enabled: "No",
        },
        mediaType: "content",
        osId: "org.ekstep.quiz.app",
        lastPublishedBy: "cd56b767-2465-446b-888c-97b9863397f8",
        version: 2,
        se_subjects: ["Training"],
        prevState: "Review",
        license: "CC BY-NC-SA 4.0",
        size: 349974,
        lastPublishedOn: "2021-07-08T09:44:27.971+0000",
        name: "हम और हमारा समाज |कोर्स से परिचय",
        attributions: [
          "Peepul",
          " www.peepulindia.org | MP SCERT",
          " te_mpscert@yahoo.com",
        ],
        status: "Live",
        totalQuestions: 0,
        code: "org.sunbird.4osBG0",
        credentials: {
          enabled: "No",
        },
        prevStatus: "Processing",
        description: "कोर्स से परिचय",
        streamingUrl:
          "https://ntpproductionall.blob.core.windows.net/ntp-content-production/content/ecml/do_31331742597075763211217-latest",
        medium: ["Hindi"],
        posterImage:
          "https://ntpproductionall.blob.core.windows.net/ntp-content-production/content/do_31331743462996377611219/artifact/do_31331743462996377611219_1625663407221_picture2.png",
        idealScreenSize: "normal",
        createdOn: "2021-07-07T12:52:29.952+0000",
        se_boards: ["State (Madhya Pradesh)"],
        copyrightYear: 2021,
        contentDisposition: "inline",
        licenseterms:
          "By creating any type of content (resources, books, courses etc.) on DIKSHA, you consent to publish it under the Creative Commons License Framework. Please choose the applicable creative commons license you wish to apply to your content.",
        lastUpdatedOn: "2021-07-08T09:44:27.310+0000",
        SYS_INTERNAL_LAST_UPDATED_ON: "2021-07-08T09:44:28.438+0000",
        dialcodeRequired: "No",
        createdFor: ["012936530816278528135"],
        lastStatusChangedOn: "2021-07-08T09:44:28.429+0000",
        creator: "GIRISH ANANTHANARAYANAN ",
        os: ["All"],
        se_FWIds: ["mp_k-12"],
        totalScore: 0,
        pkgVersion: 1,
        versionKey: "1625737467310",
        idealScreenDensity: "hdpi",
        s3Key:
          "ecar_files/do_31331742597075763211217/hm-aur-hmaaraa-smaaj-kors-se-pricy_1625737467971_do_31331742597075763211217_1.0.ecar",
        framework: "mp_k-12",
        lastSubmittedOn: "2021-07-08T09:18:39.239+0000",
        createdBy: "a39b4df8-f600-444e-8a83-1f2e4a5075f8",
        compatibilityLevel: 2,
        board: "State (Madhya Pradesh)",
        resourceType: "Learn",
        index: 1,
        depth: 2,
        parent: "do_31331858471402700813796",
      };
      const playerConfig = {
        context: {
          mode: "preview/edit/play", // to identify preview used by the user to play/edit/preview
          authToken: "", // Auth key to make V3 api calls
          contentId: "do_201734893", // ContentId used to get body data from content API call
          sid: "7283cf2e-d215-9944-b0c5-269489c6fa56", // User sessionid on portal or mobile
          did: "3c0a3724311fe944dec5df559cc4e006", // Unique id to identify the device or browser
          uid: "anonymous", // Current logged in user id
          channel: "505c7c48ac6dc1edc9b08f21db5a571d", // To identify the channel(Channel ID). Default value ""
          // Producer information. Generally the App which is creating the event, default value {}
          pdata: {
            id: "prod.diksha.portal", // Producer ID. For ex: For sunbird it would be "portal" or "genie"
            ver: "3.2.12", // version of the App
            pid: "sunbird-portal.contentplayer", // Optional. In case the component is distributed, then which instance of that component
          },
          contextRollup: {
            l1: "505c7c48ac6dc1edc9b08f21db5a571d",
          },
          tags: [""],
          cdata: [],
          timeDiff: 0,
          objectRollup: {},
          host: "",
          endpoint: "",
          userData: {
            firstName: "Vivek",
            lastName: "Kasture",
          },
          app: [""], // Genie tags
          partner: [""], // Partner tags
          dims: [""], // Encrypted dimension tags passed by respective channels
          cdata: [
            {
              //correlation data
              type: "", //Used to indicate action that is being correlated
              id: "", //The correlation ID value
            },
          ],
        },
        config: {
          traceId: "afhjgh",
          sideMenu: {
            showShare: true,
            showDownload: true,
            showReplay: true,
            showExit: true,
          },
          repos: ["s3path"], // plugins repo path where all the plugins are pushed s3 or absolute folder path
          plugins: [
            { id: "org.sunbird.telemtryPlugin", ver: "1.0", type: "plugin" },
          ], //Inject external custom plugins into content (for externl telemetry sync)
          overlay: {
            // Configuarable propeties of overlay showing by GenieCanvas on top of the content
            enableUserSwitcher: true, // enable/disable user-switcher, default is true for mobile & preview
            showUser: true, // show/hide user-switcher functionality. default is true to show user information
            showOverlay: true, // show/hide complete overlay including next/previous buttons. default value true
            showNext: true, // show/hide next navigation button on content. default is true
            showPrevious: true, // show/hide previous navigation button on content. default is true
            showSubmit: false, // show/hide submit button for assessmetns in the content. default is false
            showReload: true, // show/hide stage reload button to reset/re-render the stage. default is true
            menu: {
              showTeachersInstruction: true, // show/hide teacher instructions in the menu
            },
          },
          splash: {
            // list of configurable properties to handle splash screen shown while loading content
            text: "Powered by Sunbird", // Text to be shown on splash screen while loading content.
            icon: "assets/icons/icn_genie.png", // Icon to be show on above the text(full absolute path of the image in mobiew or http image link)
            bgImage: "assets/icons/background_1.png", // backgroung image used for splash screen while loading content(absolute folder path of the image in mobie or http image link)
            webLink: "XXXX", // weblink to be opened on click of text
          },
          mimetypes: [
            // Content mimetypes for new cotent lucnhers
            "application/vnd.ekstep.ecml-archive",
            "application/vnd.ekstep.html-archive",
          ],
          contentLaunchers: [
            // content laucher plugins for specific content mimetypes
            {
              // Plugin used for ECML content to launch, It is default plugin
              mimeType: "application/vnd.ekstep.html-archive",
              id: "org.sunbird.htmlrenderer",
              ver: 1.0,
              type: "plugin",
            },
          ],
        },
        metadata: JSON.parse(window.name),
        data: {}, // content body json object (from API response take -> response.result.content.body)
      };

      var previewElement = document.getElementById("preview");
      previewElement.onload = function () {
        reportWindowSize();
        previewElement.contentWindow.initializePreview(playerConfig);
        console.log(playerConfig);
      };

      function reportWindowSize() {
        previewElement.setAttribute("height", window.innerHeight - "40");
        previewElement.setAttribute("width", window.innerWidth - "40");
      }

      window.onresize = reportWindowSize;
    </script>
  </body>
</html>
